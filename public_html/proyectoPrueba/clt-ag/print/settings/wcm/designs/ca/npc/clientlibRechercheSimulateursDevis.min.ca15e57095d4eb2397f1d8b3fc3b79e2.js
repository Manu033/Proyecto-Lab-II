$(document).ready(function(){document.addEventListener("click",function(event){var targetElement=event.target||event.srcElement;if($(targetElement).closest(".smd").length==0){$(".selectBox").removeClass("arrowup");$(".selectBox").next().hide();$(".selectBox").removeClass("changed")}});$(".selectBox").click(function(){$(this).toggleClass("arrowup");$(this).next().toggle();$(this).closest(".smd").find(".selectBox").toggleClass("changed")});$(".checkboxes input").click(function(){var $boxesThematiqueCheked=
$("input[data-type\x3dthematique]:checked");var $boxesUniversChecked=$("input[data-type\x3dunivers]:checked");var selectType=$(this).closest(".smd").find("select").attr("id");var checked=$(this).is(":checked");var chip='\x3cdiv class\x3d"sm-chip" data-name\x3d"'+$(this).attr("data-name")+'" data-type\x3d"'+selectType+'"\x3e'+$(this).next().text()+'\x3cdiv role\x3d"button" id\x3d"chip-close-button"\x3e\x3ci class\x3d"icons npc-ko"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e';if(selectType=="select-thematique"){var $boxesUnivers=
$("input[data-type\x3dunivers]");$("[data-thematique]").hide();$("[data-univers]").hide();if(checked==true){$("#select-chips").append(chip);for(var i=0;i<$boxesUnivers.length;i++)$('.checkboxes input[data-name\x3d"'+$($boxesUnivers[i]).attr("data-name")+'"]').parent().hide();for(var i=0;i<$boxesThematiqueCheked.length;i++){var thematiqueToShow=$($boxesThematiqueCheked[i]).attr("data-name");for(var j=0;j<$boxesUnivers.length;j++){var universToShow=$($boxesUnivers[j]).attr("data-name");if($('[data-univers\x3d"'+
universToShow+'"][data-thematique~\x3d"'+thematiqueToShow+'"]').length>0)$('.checkboxes input[data-name\x3d"'+universToShow+'"]').parent().show()}}}else{$("#select-chips").find($(".sm-chip[data-name\x3d"+$(this).attr("data-name")+"]")).remove();for(var i=0;i<$boxesUnivers.length;i++)$('.checkboxes input[data-name\x3d"'+$($boxesUnivers[i]).attr("data-name")+'"]').parent().show();for(var i=0;i<$boxesThematiqueCheked.length;i++){var thematiqueToShow=$($boxesThematiqueCheked[i]).attr("data-name");for(var j=
0;j<$boxesUnivers.length;j++){var universToShow=$($boxesUnivers[j]).attr("data-name");if($('[data-univers\x3d"'+universToShow+'"][data-thematique~\x3d"'+thematiqueToShow+'"]').length==0)$('.checkboxes input[data-name\x3d"'+universToShow+'"]').parent().hide()}}}}else if(checked==true)$("#select-chips-besoins").append(chip);else $("#select-chips-besoins").find($(".sm-chip[data-name\x3d"+$(this).attr("data-name")+"]")).remove();$("[data-thematique]").hide();$("[data-univers]").hide();if($boxesUniversChecked.length==
0&&$boxesThematiqueCheked.length==0){$("[data-thematique]").show();$("[data-univers]").show()}if($boxesUniversChecked.length>0&&$boxesThematiqueCheked.length>0)for(var i=0;i<$boxesUniversChecked.length;i++){var universToShow=$($boxesUniversChecked[i]).attr("data-name");for(var j=0;j<$boxesThematiqueCheked.length;j++){var thematiqueToShow=$($boxesThematiqueCheked[j]).attr("data-name");$('[data-univers\x3d"'+universToShow+'"][data-thematique~\x3d"'+thematiqueToShow+'"]').show()}}if($boxesUniversChecked.length==
0&&$boxesThematiqueCheked.length>0)for(var j=0;j<$boxesThematiqueCheked.length;j++){var thematiqueToShow=$($boxesThematiqueCheked[j]).attr("data-name");$('[data-thematique~\x3d"'+thematiqueToShow+'"]').show()}if($boxesUniversChecked.length>0&&$boxesThematiqueCheked.length==0)for(var j=0;j<$boxesUniversChecked.length;j++){var universToShow=$($boxesUniversChecked[j]).attr("data-name");$('[data-univers\x3d"'+universToShow+'"]').show()}$(".univers-wrapper").show();$(".section-haute-wrapper").show();if($("[data-section-haute]:visible").length<
1)$(".section-haute-wrapper").hide();else $(".section-haute-wrapper").show();$("[data-univers-wrapper]").each(function(idx){var headUnivers=$(this).attr("data-univers-wrapper");if($('[data-univers\x3d"'+headUnivers+'"]:visible').length<1)$(".univers-wrapper."+headUnivers+"-wrapper").hide();else $(".univers-wrapper."+headUnivers+"-wrapper").show()});$(".BlockLink.matchHeight:visible").matchHeight();$(".Card-white-block-link.matchHeight:visible").matchHeight();var $boxesCheked=$(this).closest(".checkboxes").find("input:checked")});
$(document).on("click","#chip-close-button",function(){var name=$(this).parent().attr("data-name");var type=$(this).parent().attr("data-type");$(this).parent().remove();if(type.includes("thematique"))$("input[data-type\x3dthematique][data-name\x3d"+name+"]").click();else $("input[data-type\x3dunivers][data-name\x3d"+name+"]").click()});$(".reinitial-link a").click(function(){$("#select-chips \x3e div").remove();$("#select-chips-besoins \x3e div").remove();vider_selection()});var vider_selection=function(){$(".checkboxes input:checked").prop("checked",
false);$(".univers-wrapper").show();$(".section-haute-wrapper").show();$("[data-thematique]").show();$("[data-univers]").show();$(".selectBox").removeClass("changed")}});
(function($){$(document).ready(function(){$(".checkboxes input").bind("click.preventdefault",function(e){if($(e.currentTarget).is(":checked")==true)if(e.currentTarget.dataset.type=="thematique")tC.event.actionUtilisateur(this,{evt_action_libelle:"SD_choix_projet",evenement_conversion_avant_vte_categorie:e.currentTarget.dataset.name});else if(e.currentTarget.dataset.type=="univers")tC.event.actionUtilisateur(this,{evt_action_libelle:"SD_choix_besoin",evenement_conversion_avant_vte_univers:e.currentTarget.dataset.name})});
$(".reinitial-link a").bind("click.preventdefault",function(e){console.log(" \x3d\x3e reinitial-link ");tC.event.actionUtilisateur(this,{evt_action_libelle:"SD_reinitialiser"})})})})(jQuery);